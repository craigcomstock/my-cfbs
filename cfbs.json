{
  "name": "play-cfbs@home",
  "description": "Example description",
  "type": "policy-set",
  "git": true,
  "build": [
    {
      "name": "masterfiles",
      "description": "Official CFEngine Masterfiles Policy Framework (MPF)",
      "url": "https://github.com/cfengine/masterfiles",
      "commit": "9e96fcf45470171d9bd73b9118085d1292f13429",
      "added_by": "cfbs add",
      "steps": ["run ./prepare.sh -y", "copy ./ ./"]
    },
    {
      "name": "client-initiated-reporting",
      "description": "Enables client initiated reporting and disable pull collection.",
      "tags": ["experimental", "reporting"],
      "repo": "https://github.com/cfengine/modules",
      "by": "https://github.com/cfengine",
      "version": "0.1.1",
      "commit": "c3b7329b240cf7ad062a0a64ee8b607af2cb912a",
      "subdirectory": "reporting/client-initiated-reporting",
      "added_by": "cfbs add",
      "steps": ["json def.json def.json"]
    },
    {
      "name": "autorun",
      "description": "Enables autorun functionality.",
      "tags": ["supported", "management"],
      "repo": "https://github.com/cfengine/modules",
      "by": "https://github.com/olehermanse",
      "version": "1.0.1",
      "commit": "c3b7329b240cf7ad062a0a64ee8b607af2cb912a",
      "subdirectory": "management/autorun",
      "added_by": "demo",
      "steps": ["json def.json def.json"]
    },
    {
      "name": "every-minute",
      "description": "Makes policy fetching, evaluation, and reporting happen every minute.",
      "tags": ["management", "experimental"],
      "repo": "https://github.com/cfengine/modules",
      "by": "https://github.com/olehermanse",
      "version": "1.0.0-1",
      "commit": "74b6776ca4e120285f9c44e68ccf79eef84accfd",
      "subdirectory": "management/every-minute",
      "added_by": "demo",
      "steps": ["json def.json def.json"]
    },
    {
      "name": "demo",
      "description": "Enables convenient and insecure settings for demoing CFEngine.",
      "tags": ["management", "experimental"],
      "repo": "https://github.com/cfengine/modules",
      "by": "https://github.com/olehermanse",
      "version": "1.0.0",
      "commit": "05bf5e5b1c014018a7b93a524e035c1a21bcffa4",
      "subdirectory": "management/demo",
      "dependencies": ["autorun", "every-minute"],
      "added_by": "cfbs add",
      "steps": ["json def.json def.json"]
    },
    {
      "name": "./docker_inventory.cf",
      "description": "Local policy file added using cfbs command line",
      "tags": ["local"],
      "added_by": "cfbs add",
      "steps": [
        "copy ./docker_inventory.cf services/cfbs/docker_inventory.cf",
        "policy_files services/cfbs/docker_inventory.cf",
        "bundles docker_inventory"
      ]
    },
    {
      "name": "./disable-seeding-binaries-on-hub.json",
      "description": "Local augments file added using cfbs command line",
      "tags": ["local"],
      "added_by": "cfbs add",
      "steps": ["json ./disable-seeding-binaries-on-hub.json def.json"]
    },
    {
      "name": "./compliance_report_allhostsmustberunningcfengine.json",
      "description": "Compliance report: All hosts must run CFEngine",
      "tags": ["local"],
      "added_by": "cfbs add",
      "steps": [
        "copy ./compliance_report_allhostsmustberunningcfengine.json ./.no-distrib/compliance-report-definitions/compliance_report_allhostsmustberunningcfengine.json"
      ]
    },
    {
      "name": "compliance-report-os-is-vendor-supported",
      "description": "Compliance report definition for checking if the current OS version is supported by the vendor.",
      "tags": ["experimental", "compliance-report", "cfengine-enterprise"],
      "repo": "https://github.com/nickanderson/cfengine-security-hardening",
      "by": "https://github.com/nickanderson",
      "version": "0.0.4",
      "commit": "d828be6de5b73b0058e4367c2ab09bda1cf035ca",
      "subdirectory": "compliance-report-os-is-vendor-supported",
      "dependencies": ["compliance-report-imports"],
      "added_by": "cfbs add",
      "steps": [
        "copy ./os-is-vendor-supported.json .no-distrib/compliance-report-definitions/os-is-vendor-supported.json"
      ]
    },
    {
      "name": "upgrade-all-packages",
      "description": "Ensures that the package manager data is updated and all upgradeable packages are upgraded.",
      "tags": ["supported", "security", "compliance"],
      "repo": "https://github.com/craigcomstock/cfengine-security-hardening",
      "by": "https://github.com/craigcomstock",
      "version": "1.0.0",
      "commit": "e3039050296ec20c7e44b3accba84c146cf6ef69",
      "subdirectory": "upgrade-all-packages",
      "dependencies": ["autorun"],
      "added_by": "cfbs add",
      "steps": [
        "copy ./upgrade_all_packages.cf services/autorun/upgrade_all_packages.cf"
      ]
    },
    {
      "name": "./physical_hosts.cf",
      "description": "Local policy file added using cfbs command line",
      "tags": ["local"],
      "added_by": "cfbs add",
      "steps": [
        "copy ./physical_hosts.cf services/cfbs/physical_hosts.cf",
        "policy_files services/cfbs/physical_hosts.cf",
        "bundles physical_hosts"
      ]
    },
    {
      "name": "./overlay/inventory/os.cf",
      "description": "Local policy file added using cfbs command line",
      "tags": ["local"],
      "added_by": "cfbs add",
      "steps": ["copy ./overlay/inventory/os.cf inventory/os.cf"]
    },
    {
      "name": "./import-dhcp-hosts/",
      "description": "Local subdirectory added using cfbs command line",
      "tags": ["local"],
      "added_by": "cfbs add",
      "steps": [
        "directory ./ services/cfbs/import-dhcp-hosts/",
        "policy_files services/cfbs/import-dhcp-hosts/",
        "bundles import_dhcp_hosts"
      ]
    },
    {
      "name": "./openwrt_inventory.cf",
      "description": "Local policy file added using cfbs command line",
      "tags": ["local"],
      "added_by": "cfbs add",
      "steps": [
        "copy ./openwrt_inventory.cf services/cfbs/openwrt_inventory.cf",
        "policy_files services/cfbs/openwrt_inventory.cf",
        "bundles openwrt_inventory"
      ]
    },
    {
      "name": "compliance-report-imports",
      "description": "Used by other modules to import compliance reports to Mission Portal.",
      "tags": ["experimental", "cfengine-enterprise"],
      "repo": "https://github.com/nickanderson/cfengine-security-hardening",
      "by": "https://github.com/nickanderson",
      "version": "0.0.11",
      "commit": "9bd8f0d837905b4ae4104d78af26f274d1a45b5e",
      "subdirectory": "compliance-report-imports",
      "added_by": "cfbs add",
      "steps": [
        "copy ./compliance-report-imports.cf services/cfbs/modules/compliance-report-imports/compliance-report-imports.cf",
        "policy_files services/cfbs/modules/compliance-report-imports/compliance-report-imports.cf",
        "bundles default:compliance_report_imports"
      ]
    },
    {
      "name": "stig-rhel-7",
      "description": "Red Hat Enterprise Linux 7 Security Technical Implementation Guide",
      "tags": ["security", "experimental"],
      "repo": "https://github.com/nickanderson/cfengine-security-hardening",
      "by": "https://github.com/nickanderson",
      "version": "0.0.1",
      "commit": "f20b82a0f714d5b76fafc1d788ac9b720dea0a03",
      "subdirectory": "stig/red_hat_enterprise_linux_7",
      "dependencies": ["compliance-report-imports"],
      "added_by": "cfbs add",
      "steps": [
        "copy ./compliance-reports/compliance-report.json ./.no-distrib/compliance-report-definitions/red-hat-enterprise-linux-7-security-technical-implementation-guide.json",
        "copy ./config.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/config.cf",
        "copy ./V-204392/V-204392.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204392.cf",
        "copy ./V-204424/V-204424.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204424.cf",
        "copy ./V-204425/V-204425.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204425.cf",
        "copy ./V-204502/V-204502.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204502.cf",
        "copy ./V-204594/V-204594.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204594.cf",
        "copy ./V-204620/V-204620.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204620.cf",
        "copy ./V-204621/V-204621.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204621.cf",
        "copy ./V-204627/V-204627.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204627.cf",
        "copy ./V-214799/V-214799.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-214799.cf",
        "copy ./V-204497/V-204497.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204497.cf",
        "copy ./V-204443/V-204443.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204443.cf",
        "copy ./V-204442/V-204442.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204442.cf",
        "copy ./chaos.cf services/cfbs/modules/stig-red-hat-enterprise-linux-7/chaos.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204392.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204424.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204425.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204502.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204594.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204620.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204621.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204627.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-214799.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204497.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204443.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/V-204442.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/chaos.cf",
        "policy_files services/cfbs/modules/stig-red-hat-enterprise-linux-7/config.cf",
        "bundles rhel_7_stig:run",
        "input ./input.json def.json"
      ],
      "input": [
        {
          "type": "string",
          "namespace": "rhel_7_stig",
          "bundle": "config",
          "variable": "mode",
          "label": "Mode",
          "question": "What mode should the module be in? (warn|enforce)",
          "default": "warn"
        },
        {
          "type": "string",
          "namespace": "rhel_7_stig",
          "bundle": "config",
          "variable": "context",
          "label": "Enabled",
          "question": "Under which context should this module be enabled?",
          "default": "centos_7|redhat_7"
        },
        {
          "type": "list",
          "namespace": "rhel_7_stig",
          "bundle": "config",
          "variable": "exceptions",
          "label": "Exceptions",
          "subtype": [
            {
              "key": "id",
              "type": "string",
              "label": "Finding ID",
              "question": "Which finding would you like to add an exception for (e.g.: V-204443)"
            },
            {
              "key": "why",
              "type": "string",
              "label": "Why",
              "question": "Why is there an exception?",
              "default": "Unknown"
            },
            {
              "key": "context",
              "type": "string",
              "label": "Context",
              "question": "Under what context should this be an exception?",
              "default": "centos_7|redhat_7"
            }
          ],
          "while": "Do you want to add another exception?"
        }
      ]
    },
    {
      "name": "conditional-installer",
      "description": "Allows you to specify packages you want installed and conditions for where you want them installed, as well as a list of packages you generally want uninstalled.",
      "tags": ["security", "management", "experimental"],
      "repo": "https://github.com/cfengine/modules",
      "by": "https://github.com/olehermanse",
      "version": "0.0.1",
      "commit": "e6c731a9aead018e1c4895f6b77249fa417aa4bd",
      "subdirectory": "security/conditional-installer",
      "added_by": "cfbs add",
      "steps": [
        "copy main.cf services/cfbs/modules/conditional-installer/main.cf",
        "input conditional-installer/input.json def.json",
        "bundles conditional_installer:main",
        "policy_files services/cfbs/modules/conditional-installer/main.cf"
      ],
      "input": [
        {
          "type": "string",
          "variable": "packages_to_uninstall",
          "namespace": "conditional_installer",
          "bundle": "main",
          "label": "Uninstall",
          "question": "Which package(s) would you like to be uninstalled?"
        },
        {
          "type": "list",
          "variable": "packages_to_install",
          "namespace": "conditional_installer",
          "bundle": "main",
          "label": "Install",
          "subtype": [
            {
              "key": "packages",
              "type": "string",
              "label": "Package(s)",
              "question": "Package(s) to install"
            },
            {
              "key": "condition",
              "type": "string",
              "label": "Condition",
              "question": "Condition for where to install"
            },
            {
              "key": "why",
              "type": "string",
              "label": "Why",
              "question": "Why?",
              "default": "Unknown"
            }
          ],
          "while": "Do you want to specify more packages to be installed?"
        }
      ]
    }
  ]
}
